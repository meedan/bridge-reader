$width--embed-column: 400px;
$width--embed-column-count: 4;
$width--embed-container: $width--embed-column * $width--embed-column-count;
$height--description: 40px;

/// A Bridge Project Page Description and CTA
///
/// The call to action on a project page with (eg a page with multiple bridge channels, like the guardian demo).
%project--description {
  position: fixed;
  font-size: 1em;
  background-color: white;
  padding: 8px;
  width: 100%;
  border-bottom: 1px solid $light-keyboard-grey;
  z-index: 2;
}

/// The channel headers in the columns
/// 
%project--channel-header {
  padding: 1em;
  top:0;
  width: 100%;
  background: $light-keyboard-grey;
  color: $firefly80;
  h1, h2, h3, h4 { 
    color: inherit;
    text-align: left; 
  }
  a {
    color: inherit;
  }
}

/// Firefly theme for the project page
/// 
%theme--firefly {
  background-color: $firefly80;
  color: $firefly80;
  .embed {
    background: white;
  }
}

/// Layout for the multicolumn embed page
/// 
@mixin layout--multicolumn-project($columns: 4) {
  display: flex;
  padding: 1em;
  width: $width--embed-column * $columns;
  height: 100vh;
  max-height: 100vh;
  overflow: hidden;
  
  .embed {
    margin: 40px 10px 40px;
    overflow: scroll;
    padding: 1em;
    width: $width--embed-column;
    html, body { 
      height: 100%;
    }
  }
}


// Bridge Multicolumn Project Page Embeds
// 
// Four column version.
//  
// NOTE: For a dynamic version, the width should probably be set by .js, based on the number of columns. For now the media queries are only being used to resize a four-column layout. — 2015 August 19 CGB 
.project {
  @extend %theme--firefly;
  @extend %scrollbars;
  .top {
    @extend %project--description;
    font-weight: 700;
    color: $bridge-orange;
  }

  .bottom {
    @extend %project--description;
    border-top: 1px solid $light-keyboard-grey;
    bottom: 0;
    border-bottom-width: 0;
  }

  .embeds {
    .header {
      @extend %project--channel-headers;  
    }
    
    .description {
      @extend %project---chrome;
    }

    @media (min-width: $width--embed-column * 3) {
      @include layout--multicolumn-project(3);
    }
    @media (min-width: $width--embed-column * 4) {
      @include layout--multicolumn-project(4);
    }
  }
}